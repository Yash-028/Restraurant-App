(this.webpackJsonprestaurant_app=this.webpackJsonprestaurant_app||[]).push([[0],{178:function(e,s,t){"use strict";t.r(s);var a=t(1),c=t.n(a),i=t(33),n=t.n(i),r=(t(83),t(12)),o=t(9),d=t.n(o),l=t(13),j=t(4),m=t(186),h=t(185),b=t(180),u=t(10),p=t(0),O=c.a.createContext(),x=function(e){var s=Object(a.useState)(!0),t=Object(j.a)(s,2),c=t[0],i=t[1];return Object(p.jsx)(O.Provider,{value:[c,i],children:e.children})},g=c.a.createContext(),f=function(e){var s=Object(a.useState)([]),t=Object(j.a)(s,2),c=t[0],i=t[1];return Object(p.jsx)(g.Provider,{value:[c,i],children:e.children})},y=c.a.createContext(),N=function(e){var s=Object(a.useState)({}),t=Object(j.a)(s,2),c=t[0],i=t[1];return Object(p.jsx)(y.Provider,{value:[c,i],children:e.children})},v=t(25),w=t(23),_=function(){var e=Object(a.useContext)(O),s=Object(j.a)(e,2),t=s[0],c=s[1],i=Object(a.useContext)(g),n=Object(j.a)(i,2),r=n[0],o=n[1],x=Object(a.useContext)(y),f=Object(j.a)(x,2),N=f[0];f[1];console.log(N);var _=function(){var e=Object(l.a)(d.a.mark((function e(){var s,t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("here"),s=N.email,e.next=4,fetch("/savecart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:r,email:s})});case 4:return t=e.sent,console.log("here"),e.next=8,t.json();case 8:a=e.sent,201===t.status&&a?(window.alert("cart save success"),o([])):window.alert("cart save unsuccessful");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(m.a,{bg:"light",expand:"lg",children:[Object(p.jsx)(m.a.Brand,{children:Object(p.jsx)(u.b,{to:"/",style:{color:"black",textDecoration:"none"},children:"Restaurant OP"})}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsxs)(m.a.Collapse,{id:"basic-navbar-nav",children:[Object(p.jsxs)(h.a,{className:"mr-auto",children:[Object(p.jsx)(u.b,{to:"/",className:"mx-2",style:{color:"black",textDecoration:"none"},children:"Home"}),Object(p.jsx)(u.b,{to:"/login",className:"mx-2 "+(t?"d-none":""),style:{color:"black",textDecoration:"none"},children:"Login"}),Object(p.jsx)(u.b,{to:"/signup",className:"mx-2 "+(t?"d-none":""),style:{color:"black",textDecoration:"none"},children:"Signup"})]}),Object(p.jsxs)("span",{className:"username "+(t?"":"d-none"),children:["Hello! ",N.name]}),Object(p.jsx)(b.a,{className:"mr-1 bg-light border-0 "+(t?"":"d-none "),children:Object(p.jsx)(u.b,{to:"/userinfo",style:{color:"black"},children:Object(p.jsx)(v.a,{icon:w.e,size:"1x"})})}),Object(p.jsx)(b.a,{className:"mr-1 bg-light border-0 cart-icon "+(t?"":"d-none "),children:Object(p.jsxs)(u.b,{to:"/checkout",style:{color:"black",textDecoration:"none"},children:[Object(p.jsx)(v.a,{icon:w.c,size:"1.5x"}),Object(p.jsx)("div",{className:r?"cartIndicator":""})]})}),Object(p.jsx)(b.a,{className:"px-2 bg-light border-0 text-dark logout "+(t?"":"d-none"),onClick:function(){console.log(r),r&&(localStorage.clear(),_()),c(!1)},children:"Logout"})]})]})})},k=t(181),C=function(){var e=Object(a.useContext)(y),s=Object(j.a)(e,2),t=(s[0],s[1]),c=Object(a.useContext)(O),i=Object(j.a)(c,2),n=i[0],r=i[1],o="";Object(a.useEffect)((function(){(o=localStorage.getItem("token"))&&!n&&m()}),[]);var m=function(){var e=Object(l.a)(d.a.mark((function e(){var s,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o,console.log("here"),e.prev=2,e.next=5,fetch("/autologin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tkn:s,login:n})});case 5:return a=e.sent,e.next=8,a.json();case 8:c=e.sent,t(c),r(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(k.a,{className:"col-lg-4 col-sm-12 home-container shadow",children:[Object(p.jsx)("h1",{children:"Welcome to Restaurant OP"}),Object(p.jsx)("br",{}),Object(p.jsx)("h3",{children:"We aim to provide best service at users comforts!!"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(b.a,{className:"ml-1",children:Object(p.jsx)(u.b,{to:"/booktable",style:{color:"white"},children:"Book a table"})}),Object(p.jsx)(b.a,{className:"order-btn float-right mr-2",id:"home_order",children:Object(p.jsx)(u.b,{to:"/menu",style:{color:"white"},children:"Order Now"})})]})})},S=(t(98),t(14)),q=c.a.createContext(),P=function(e){var s=Object(a.useState)(),t=Object(j.a)(s,2),c=t[0],i=t[1];return Object(p.jsx)(q.Provider,{value:[c,i],children:e.children})},F=t(187),T=function(e){var s=Object(a.useContext)(q),t=Object(j.a)(s,2),c=(t[0],t[1]),i=Object(r.f)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(F.a,{xs:12,className:"m-1 p-0 mcard shadow-sm",style:{width:"30rem"},onClick:function(){var s=Object(S.a)({},e);c(s),i.push("/itemdetails")},children:[Object(p.jsx)(F.a.Img,{variant:"top",className:"card-img img-fluid menucard",src:e.img_src}),Object(p.jsxs)(F.a.Body,{className:"p-1",style:{display:"flex"},children:[Object(p.jsx)("p",{className:"p-1",children:e.dishName}),Object(p.jsxs)("p",{className:"ml-auto p-1",children:[e.rating,Object(p.jsx)(v.a,{icon:w.d,className:"star"})]})]})]})})},B=(t(99),t(52)),D=t(182),J=t(183),M=function(){var e=Object(a.useContext)(q),s=Object(j.a)(e,2),t=s[0],c=(s[1],Object(a.useContext)(O)),i=Object(j.a)(c,2),n=i[0],r=(i[1],Object(a.useContext)(g)),o=Object(j.a)(r,2),d=o[0],l=o[1],m=Object(a.useState)(""),h=Object(j.a)(m,2);h[0],h[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(k.a,{className:"col-lg-10",children:Object(p.jsxs)(D.a,{children:[Object(p.jsx)(J.a,{xs:12,md:6,className:"mt-5 px-0 text-center",children:Object(p.jsx)("img",{className:"mt-3 p-1 item-detail-img",src:t.img_src,alt:"img"})}),Object(p.jsxs)(J.a,{xs:12,md:6,className:"mt-5 px-1 col-sm-12 ",children:[Object(p.jsx)("h1",{className:"ml-1 mt-3",children:t.dishName}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{className:"text-justify mx-1",children:t.description}),Object(p.jsx)("br",{}),Object(p.jsxs)("p",{className:"text-justify mx-1",children:["Price Rs.",t.price]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsxs)("h3",{className:"text-left ml-1",children:["Rating:",t.rating,Object(p.jsx)(v.a,{icon:w.d,className:"star"})]}),Object(p.jsx)("br",{}),Object(p.jsx)(b.a,{variant:"success",className:"text-center w-50 btn-lg",onClick:function(){if(n){if(d[d.findIndex((function(e){return e.id===t.id}))])l(Object(B.a)(d));else{var e=Object(S.a)({},t);l([].concat(Object(B.a)(d),[e]))}window.alert("added to cart"),console.log(d)}else window.alert("you have to login first")},children:"Add to cart"}),Object(p.jsx)(b.a,{className:"text-center float-right w-50 btn-lg",children:Object(p.jsx)(u.b,{to:"/menu",style:{color:"white",textDecoration:"none"},children:"Back to menu"})})]})]})})})},R=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.a,{children:Object(p.jsx)(u.b,{to:"/checkout",style:{color:"white",textDecoration:"none"},children:"Checkout"})})})},z=c.a.createContext(),V=function(e){var s=Object(a.useState)({}),t=Object(j.a)(s,2),c=t[0],i=t[1];return Object(p.jsx)(z.Provider,{value:[c,i],children:e.children})},A=function(){var e=Object(a.useContext)(g),s=Object(j.a)(e,2),t=s[0],c=s[1],i=Object(a.useContext)(z),n=Object(j.a)(i,2),r=(n[0],n[1],Object(a.useContext)(y)),o=Object(j.a)(r,2),m=o[0],h=(o[1],Object(a.useState)(!1)),O=Object(j.a)(h,2),x=O[0],f=O[1],N=Object(a.useState)(1),v=Object(j.a)(N,2),w=(v[0],v[1]),_=Object(a.useState)(0),C=Object(j.a)(_,2),S=C[0],q=C[1],P=Object(a.useState)(""),F=Object(j.a)(P,2),T=F[0],B=F[1],M=Object(a.useState)(""),R=Object(j.a)(M,2),V=R[0],A=R[1];Object(a.useEffect)((function(){m&&(B(m.address),A(m.pincode))}),[]),console.log(t);var L=function(){if(console.log(t.length),0!==t.length){console.log("before total",t);var e=t.reduce((function(e,s){return e+s.price*s.quantity}),0);console.log(e),q(e),console.log("after total",t)}else q(0),console.log("here")},W=function(){var e=Object(l.a)(d.a.mark((function e(){var s,a,i,n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Date,a={cart:t,address:T,pincode:V,total:S,date:s.toLocaleString()},i=m.email,e.next=5,fetch("/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,order:a})});case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,201===n.status&&r){e.next=13;break}window.alert("order place unsuccessful"),e.next=24;break;case 13:return window.alert("please wait... we are processing your request"),e.next=16,fetch("/sendorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,order:a})});case 16:return o=e.sent,e.next=19,o.json();case 19:e.sent,window.alert("order place success"),c([]),B(""),A("");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(k.a,{children:Object(p.jsxs)(D.a,{children:[Object(p.jsx)(J.a,{xs:12,lg:6,children:Object(p.jsxs)("div",{className:"display-cart text-left mt-3 shadow",children:[Object(p.jsx)("p",{className:"text-capitalize mt-2 p-3 h3",children:"Your Cart"}),Object(p.jsx)("hr",{}),t.length>0&&t.map((function(e,s){return Object(p.jsx)("div",{class:"card col-sm-12 p-0 my-1 cartcard",children:Object(p.jsxs)("div",{class:"card-horizontal m-1",style:{display:"flex",flex:"1 1 auto;"},children:[Object(p.jsx)("div",{class:"conatiner-fluid",children:Object(p.jsx)("img",{class:"h-100 cartCardImg",src:e.img_src,alt:"Card image cap"})}),Object(p.jsxs)("div",{class:"card-body p-2",children:[Object(p.jsx)("h4",{class:"card-title",children:e.dishName}),Object(p.jsxs)("h5",{children:["Price:Rs. ",e.price]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(b.a,{variant:"success",className:x?"disabled":"",onClick:function(){!function(e,s){w(++t[e].quantity),c(t),L()}(s,e.id)},children:"+"}),Object(p.jsx)("span",{className:"m-2",children:e.quantity}),Object(p.jsx)(b.a,{variant:"danger",className:x?"disabled":"",onClick:function(){!function(e,s){t[e].quantity&&(w(--t[e].quantity),c(t),L())}(s,e.id)},children:"-"})]}),Object(p.jsxs)("p",{className:"mt-2 text-capitalize",children:["subtotal=Rs ",e.price*e.quantity]}),Object(p.jsx)(b.a,{variant:"danger",className:x?"disabled":"",onClick:function(){!function(e){console.log("before remove",t);var s=t.filter((function(s){if(s.id!==e)return s}));c(s),console.log("after remove",t),L()}(e.id)},children:"Remove"})]})]})})})),Object(p.jsx)("hr",{}),Object(p.jsx)(b.a,{variant:"success",onClick:function(){f(!0),console.log(t),L()},className:x?"disabled w-50 btn-lg":"w-50 btn-lg",children:"Confirm order"}),Object(p.jsx)(b.a,{className:"text-center float-right w-50 btn-lg",children:Object(p.jsx)(u.b,{to:"/menu",style:{color:"white",textDecoration:"none"},children:"Back to menu"})})]})}),Object(p.jsx)(J.a,{children:Object(p.jsxs)("div",{className:"place-order-div mt-3 shadow",children:[Object(p.jsx)("h3",{className:"p-3",children:"Order Details"}),Object(p.jsx)("hr",{}),Object(p.jsxs)("h4",{className:"my-1 text-capitalize px-3",children:["order total=Rs. ",S]}),Object(p.jsxs)("div",{className:"address-div pl-3",children:[Object(p.jsxs)("p",{className:"h4 mt-3 text-capitalize",children:["Enter Address",Object(p.jsx)("span",{className:"compulsory",children:"*"})]}),Object(p.jsx)("input",{type:"textarea",className:"w-100 h-25 my-1 p-2",placeholder:"Address",defaultValue:T,onChange:function(e){B(e.target.value)}}),Object(p.jsx)("br",{}),Object(p.jsxs)("p",{className:"h4 mt-3 text-capitalize",children:["Enter Pincode",Object(p.jsx)("span",{className:"compulsory",children:"*"})]}),Object(p.jsx)("input",{type:"textarea",className:"w-100 h-25 my-1 p-2",placeholder:"Pincode",defaultValue:V,onChange:function(e){A(e.target.value)}}),Object(p.jsx)("br",{})]}),Object(p.jsx)("p",{className:"text-muted px-1 mt-2",children:"*please enter pincode along with address or else order won't be considered!"}),Object(p.jsx)("p",{className:"text-muted px-1",children:"*Currently we support COD only on all orders! we will add more payments method soon!"}),Object(p.jsx)(b.a,{variant:"success w-100",className:x?"btn-lg text-capitalize":"btn-lg text-capitalize disabled",onClick:W,children:"place order"})]})})]})})})},L=function(){var e=Object(a.useState)(""),s=Object(j.a)(e,2),t=s[0],c=s[1],i=Object(a.useState)(""),n=Object(j.a)(i,2),o=n[0],m=n[1],h=Object(a.useContext)(y),b=Object(j.a)(h,2),x=(b[0],b[1]),f=Object(a.useContext)(O),N=Object(j.a)(f,2),v=(N[0],N[1]),w=Object(a.useContext)(g),_=Object(j.a)(w,2),C=_[0],S=_[1],q=Object(r.f)(),P=function(){var e=Object(l.a)(d.a.mark((function e(s){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),"admin@restaurantop.com"!==t||"admin"!==o){e.next=5;break}q.push("/admin"),e.next=16;break;case 5:return e.next=7,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:o})});case 7:return a=e.sent,e.next=10,a.json();case 10:i=e.sent,x(i.userExists),localStorage.setItem("token",i.token),console.log(i.token),201===a.status&&i?(window.alert("login success"),v(!0),S(i.cart),console.log(C),c(""),m("")):window.alert("invalid credentials"),q.push("/");case 16:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return console.log(C),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"text-center my-3",children:"Login Form"}),Object(p.jsxs)(k.a,{className:"shadow p-3 mt-5 login-form",children:[Object(p.jsxs)("form",{method:"POST",className:"",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",value:t,onChange:function(e){c(e.target.value)}}),Object(p.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",value:o,onChange:function(e){m(e.target.value)}})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success form-btn btn-lg",onClick:P,children:"Submit"})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("p",{className:"text-center",children:["Not Registered? ",Object(p.jsx)(u.b,{to:"/signup",children:"SignUp"})]})]})]})},W=t(28),H=t(60),I=t.n(H),E=function(){var e,s,t=Object(a.useState)(""),c=Object(j.a)(t,2),i=c[0],n=c[1],o=Object(r.f)(),m=Object(a.useState)(""),h=Object(j.a)(m,2),b=h[0],u=h[1],O=Object(a.useState)({email:"",name:"",password:"",cpassword:"",contact:"",address:"",pincode:""}),x=Object(j.a)(O,2),g=x[0],f=x[1],y=function(t){e=t.target.name,s=t.target.value,f(Object(S.a)(Object(S.a)({},g),{},Object(W.a)({},e,s))),"email"===e&&v(),"password"===e&&w()},N=function(){var e=Object(l.a)(d.a.mark((function e(s){var t,a,c,i,n,r,l,j,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t=g.name,a=g.email,c=g.password,i=g.cpassword,n=g.contact,r=g.address,l=g.pincode,e.next=4,fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:a,password:c,cpassword:i,contact:n,address:r,pincode:l})});case 4:return j=e.sent,e.next=7,j.json();case 7:422!==(m=e.sent).status&&m&&c===i?(window.alert("registration success"),console.log("registration success"),o.push("/login")):(window.alert("registration failed"),console.log("registration failed")),f({name:"",email:"",password:"",cpassword:"",contact:"",address:"",pincode:""});case 10:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),v=function(){I.a.isEmail(g.email)?n("valid"):n("invalid")},w=function(){I.a.isStrongPassword(g.password,{minLength:8,minLowercase:1,minUppercase:1,minNumber:2,minSymbols:1})?u("Strong"):u("Weak")};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"text-center my-3",children:"Signup Form"}),Object(p.jsx)(k.a,{className:"shadow p-3 mt-5 signup-form",children:Object(p.jsxs)("form",{method:"POST",className:"p-2 mt-2",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Full Name"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"text",className:"form-control",name:"name",value:g.name,onChange:function(e){f(Object(S.a)(Object(S.a)({},g),{},{name:e.target.value}))}})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"email",className:"form-control",name:"email",value:g.email,onChange:y}),Object(p.jsx)("span",{style:"valid"===i?{fontWeight:"bold",color:"green"}:{fontWeight:"bold",color:"red"},children:i})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"password",value:g.password,onChange:y}),Object(p.jsx)("span",{style:"Strong"===b?{fontWeight:"bold",color:"green"}:{fontWeight:"bold",color:"red"},children:b}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:"Weak"===b?{color:"grey"}:{display:"none"},children:"password must have minimum of 2 digits,1 uppercase,1 special symbol and 8 characters!"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"cpassword",className:"form-label",children:"Confirm Password"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"cpassword",value:g.cpassword,onChange:y})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"contactno",className:"form-label",children:"Contact No."}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"number",className:"form-control",name:"contact",value:g.contact,onChange:y})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"contactno",className:"form-label",children:"Address"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"text",className:"form-control",name:"address",value:g.address,onChange:y})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"number",className:"form-control",name:"pincode",value:g.pincode,onChange:y})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success btn-lg form-btn",onClick:N,children:"Submit"})]})})]})},G=function(){Object(a.useEffect)((function(){v(),N()}),[]);var e=Object(a.useState)([]),s=Object(j.a)(e,2),t=s[0],c=s[1],i=Object(a.useState)([]),n=Object(j.a)(i,2),r=n[0],o=n[1],m=Object(a.useState)({}),h=Object(j.a)(m,2),u=h[0],O=h[1],x=Object(a.useState)(""),g=Object(j.a)(x,2),f=g[0],y=g[1],N=function(){var e=Object(l.a)(d.a.mark((function e(){var s,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/gettables");case 2:return s=e.sent,e.next=5,s.json();case 5:t=e.sent,c(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(d.a.mark((function e(){var s,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/getorders");case 2:return s=e.sent,e.next=5,s.json();case 5:t=e.sent,o(t),console.log(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(d.a.mark((function e(){var s,t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f,e.prev=1,e.next=4,fetch("/userinfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,O(a||{}),console.log(u),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),O({});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(k.a,{className:"col-lg-10",children:Object(p.jsxs)(D.a,{children:[Object(p.jsx)(J.a,{xs:12,lg:6,className:"my-5 order-col",children:Object(p.jsxs)(k.a,{className:"all-orders shadow",children:[Object(p.jsx)("h3",{className:"p-3",children:"All Orders"}),Object(p.jsx)("hr",{}),Object(p.jsx)(k.a,{className:"display-order-admin shadow",children:r.map((function(e){return Object(p.jsxs)("div",{className:"py-2",children:[Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"user email"}),": ",e.email]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"delivery address"}),": ",e.order.address]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Pincode"}),": ",e.order.pincode]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Order total"}),": Rs.",e.order.total]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"date and time"}),": ",e.order.date]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Order"}),":"]}),e.order.cart.map((function(e){return Object(p.jsxs)("h6",{children:[e.dishName," : ",e.quantity]})})),Object(p.jsx)("hr",{})]})}))})]})}),Object(p.jsxs)(J.a,{xs:12,lg:6,className:"my-5",children:[Object(p.jsx)(D.a,{children:Object(p.jsxs)(k.a,{className:"user-info shadow-sm",children:[Object(p.jsx)("h3",{className:"p-3",children:"User Info"}),Object(p.jsx)("hr",{}),Object(p.jsx)("input",{type:"email",placeholder:"user email",value:f,onChange:function(e){y(e.target.value)},className:"user-search-admin"}),Object(p.jsx)(b.a,{variant:"success",className:"search-btn-admin",onClick:w,children:"Search"}),Object(p.jsx)(k.a,{className:"user-info-admin mt-3 shadow py-3",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"p-3 "+(u.name?"":"d-none"),children:[Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Name"}),":",u.name]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Address"}),":",u.address]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"pincode"}),":",u.pincode]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Contact"}),":",u.contact]})]}),Object(p.jsx)("div",{className:"p-3 u-not-found "+(u.name?"d-none":""),children:Object(p.jsx)("h4",{className:"text-capitalize",children:"User not found"})})]})})]})}),Object(p.jsx)(D.a,{children:Object(p.jsxs)(k.a,{className:"table-reserve shadow-sm",children:[Object(p.jsx)("h3",{className:"p-3",children:"Table Reservation"}),Object(p.jsx)("hr",{}),Object(p.jsx)(k.a,{className:"table-reserve-admin shadow",children:t.map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"reservee name"}),":",e.reservee]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"no. of guests"}),":",e.guests]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"contact"}),":",e.contact]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"reservation date and time"}),": ",e.date," ",e.time]}),Object(p.jsx)("hr",{})]})}))})]})})]})]})})})},K=function(){var e,s,t=Object(r.f)(),c=Object(a.useState)({reservee:"",contact:void 0,guests:0,date:void 0,time:void 0}),i=Object(j.a)(c,2),n=i[0],o=i[1],m=function(t){e=t.target.name,s=t.target.value,o(Object(S.a)(Object(S.a)({},n),{},Object(W.a)({},e,s)))},h=function(){var e=Object(l.a)(d.a.mark((function e(s){var a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),console.log(n),e.next=4,fetch("/booktable",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return a=e.sent,e.next=7,a.json();case 7:if(c=e.sent,201===a.status&&c){e.next=12;break}window.alert("booking unsuccessful"),e.next=23;break;case 12:return window.alert("please wait... we are processing your request."),e.next=15,fetch("/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 15:return i=e.sent,e.next=18,i.json();case 18:e.sent,201===a.status&&c?window.alert("mail sent"):window.alert("mail not sent"),o({reservee:"",guests:0,contact:0,date:"",time:""}),window.alert("booking success! we will send a confirmation on your contact details!"),t.push("/");case 23:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(k.a,{className:"justify-content-center",children:[Object(p.jsx)("h2",{className:"text-center my-3",children:"Table Reservation"}),Object(p.jsx)(k.a,{className:"form-container shadow",children:Object(p.jsxs)("form",{method:"POST",className:"p-3 my-3",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"reservee",className:"form-label",children:"Name of the reservee"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"text",defaultValue:n.reservee,name:"reservee",onChange:m,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"reservee",className:"form-label",children:"Contact no."}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"tel",defaultValue:n.contact,name:"contact",onChange:m,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"guests",className:"form-label",children:"No. of guests"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"number",defaultValue:n.guests,name:"guests",onChange:m,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"guests",className:"form-label",children:"Date of reservation(dd/mm/yy)"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"date",defaultValue:n.date,name:"date",onChange:m,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"guests",className:"form-label",children:"Time of reservation"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"time",defaultValue:n.time,name:"time",onChange:m,className:"form-control"})]}),Object(p.jsx)("button",{type:"submit",onClick:h,className:"btn btn-success form-btn btn-lg",children:"Submit"})]})})]})})},U=[[{dish_id:1001,dish_name:"Chaat Papdi",description:"Fried papdi mixed with onions, tomatoes, mint, tamarind & yogurt",price:59,rating:7,quantity:1,img_src:"/assets/images/chatpapdi.jpeg"},{dish_id:1002,dish_name:"Chana Chaat",description:"Chickpeas mixed with onions, tomatoes, mint, tamarind & yogurt",price:49,rating:8,quantity:1,img_src:"/assets/images/chanachat.jpeg"},{dish_id:1003,dish_name:"Vegetable Pakoda",description:"Mixed vegetables dipped in chickpea batter and deep fried ",price:59,rating:7.7,quantity:1,img_src:"/assets/images/vegetablepakoda.jpeg"},{dish_id:1004,dish_name:"Paneer Pakoda",description:"Homemade cottage cheese dipped in chickpea batter and fried",price:79,rating:8.5,quantity:1,img_src:"/assets/images/paneerpakoda.jpeg"},{dish_id:1005,dish_name:"Chicken Pakoda",description:"Chicken dipped in chickpea batter and fried",price:99,rating:7.5,quantity:1,img_src:"/assets/images/chickenpakoda.jpeg"},{dish_id:1006,dish_name:"Garden Salad",description:"Romaine lettuce, tomato, onion, cucumber, lemon, carrots, house made dressing on the side",price:69,rating:7,quantity:1,img_src:"/assets/images/gardensalad.jpeg"}],[{dish_id:2001,dish_name:"Lentil Soup",description:"Red lentil sauce with fresh cream",price:99,rating:8,quantity:1,img_src:"/assets/images/lentilsoup.jpeg"},{dish_id:2002,dish_name:"Tomato Soup",description:"Fresh tomato sauce with fresh cream",price:89,rating:8,quantity:1,img_src:"/assets/images/tomatosoup.jpeg"}],[{dish_id:3001,dish_name:"Tandoori Chicken",description:"Half chicken marinated in yogurt and mild spices",price:159,rating:8.5,quantity:1,img_src:"/assets/images/tandoorichicken.jpeg"},{dish_id:3002,dish_name:"Chicken Tikka",description:"Boneless chicken marinated in yogurt and mild spices",price:149,rating:8.9,quantity:1,img_src:"/assets/images/chickentikka.jpeg"},{dish_id:3003,dish_name:"Chicken Malai Kebab",description:"Boneless chicken breast marinated in yogurt, fresh cream & spice",price:179,rating:8.7,quantity:1,img_src:"/assets/images/seekhkebab.jpeg"},{dish_id:3004,dish_name:"Paneer Tikka",description:"Cubed cheese marinated in yogurt, garlic and ginger",price:149,rating:8.9,quantity:1,img_src:"/assets/images/paneertikka.jpeg"},{dish_id:3005,dish_name:"Seekh Kebab",description:"(Lamb) marinated minced lamb with onions and herbs",price:159,rating:9.1,quantity:1,img_src:"/assets/images/seekhkebab.jpeg"},{dish_id:3006,dish_name:"Tandoori Shrimp",description:"Jumbo shrimp marinated in yogurt, garlic and ginger (8 pieces)",price:199,rating:9,quantity:1,img_src:"/assets/images/tandoorishrimp.jpeg"}],[{dish_id:4001,dish_name:"Chicken Curry",description:"Boneless chicken saut\xe9ed in a hot and sour sauce with potatoes",price:169,rating:8.5,quantity:1,img_src:"/assets/images/chickencurry.jpeg"},{dish_id:4002,dish_name:"Chicken Vindaloo",description:"Boneless chicken marinated in yogurt and mild spices",price:179,rating:8.9,quantity:1,img_src:"/assets/images/chickenvindaloo.jpeg"},{dish_id:4003,dish_name:"Chicken Mushroom",description:"Boneless chicken and mushrooms saut\xe9ed in a creamy sauce",price:189,rating:8.7,quantity:1,img_src:"/assets/images/chickenmushroom.jpeg"},{dish_id:4004,dish_name:"Chicken Dopiaza",description:"Boneless chicken in a medium sauce with green onions",price:149,rating:8.9,quantity:1,img_src:"/assets/images/chickendopiaza.jpeg"},{dish_id:4005,dish_name:"Chicken Shahi Korma",description:"Boneless chicken in creamy garlic and onion sauce, cashews and raisins",price:199,rating:9.1,quantity:1,img_src:"/assets/images/chickensyahikorma.jpeg"},{dish_id:4006,dish_name:"Chicken Makhani",description:"Tender pieces of tandoori boneless chicken saut\xe9ed in a butter and cream sauce",price:189,rating:9,quantity:1,img_src:"/assets/images/chickenmakhani.jpeg"},{dish_id:4007,dish_name:"Chicken Tikka Masala",description:"Tandoori boneless chicken with tomatoes, onions, garlic and bell peppers",price:179,rating:9,quantity:1,img_src:"/assets/images/chickentikkamasala.jpeg"}],[{dish_id:5001,dish_name:"Fish Green Masala",description:"Fish, tomatoes and onions in a hot spinach sauce",price:159,rating:8.5,quantity:1,img_src:"/assets/images/fishgreenmasala.jpeg"},{dish_id:5002,dish_name:"Fish Masala",description:"Fish cooked in fried onions, tomatoes, and garlic in medium spiced sauce",price:149,rating:8.9,quantity:1,img_src:"/assets/images/fishmasala.jpeg"},{dish_id:5003,dish_name:"Fish Vindaloo",description:"Fish cooked in a hot & sour sauce with potatoes",price:159,rating:8.7,quantity:1,img_src:"/assets/images/fishvindaloo.jpeg"},{dish_id:5004,dish_name:"Shrimp Curry",description:"5 Jumbo shrimp saut\xe9ed with onions in a curry sauce",price:179,rating:8.9,quantity:1,img_src:"/assets/images/shrimpcurry.jpeg"},{dish_id:5005,dish_name:"Shrimp Vindaloo",description:"5 Jumbo shrimp cooked in a hot & sour sauce with potatoes",price:169,rating:9.1,quantity:1,img_src:"/assets/images/shrimpvindaloo.jpeg"},{dish_id:5006,dish_name:"Shrimp Malai",description:"5 Jumbo shrimp saut\xe9ed in coconut milk and fresh cream",price:189,rating:9,quantity:1,img_src:"/assets/images/shrimpmalai.jpeg"}],[{dish_id:6001,dish_name:"Vegetable Biryani",description:"Fresh vegetables in a lightly spiced sauce, with herbs, baked with basmati rice",price:129,rating:8.5,quantity:1,img_src:"/assets/images/vegetablebiryani.jpeg"},{dish_id:6002,dish_name:"Chicken Biryani",description:"Boneless chicken in a ligthly spiced sauce, with herbs, baked with basmati",price:159,rating:8.9,quantity:1,img_src:"/assets/images/chickenbiryani.jpeg"},{dish_id:6003,dish_name:"Lamb Biryani",description:"Tender lamb in a lightly spiced sauce, with herbs, baked with basmati rice",price:179,rating:8.7,quantity:1,img_src:"/assets/images/lambbiryani.jpeg"},{dish_id:6004,dish_name:"Shrimp Biryani",description:"5 Jumbo shrimp in a lightly spiced sauce, with herbs, baked with basmati rice",price:179,rating:8.9,quantity:1,img_src:"/assets/images/shrimpbiryani.jpeg"},{dish_id:6005,dish_name:"Fish Biryani",description:"Fish saut\xe9ed in a lightly spiced sauce, with herbs, baked with basmati rice",price:159,rating:9.1,quantity:1,img_src:"/assets/images/fishbiryani.jpeg"},{dish_id:6006,dish_name:"Goat Biryani",description:"Goat in a lightly spiced sauce, with herbs, baked with basmati rice",price:189,rating:9,quantity:1,img_src:"/assets/images/goatbiryani.jpeg"}],[{dish_id:7001,dish_name:"Mix Vegetable Curry",description:"Seasonal vegetables cooked with curry sauce",price:129,rating:8.5,quantity:1,img_src:"/assets/images/vegetablecurry.jpeg"},{dish_id:7002,dish_name:"Aloo Matar",description:"Potatoes and peas in a mildly spiced sauce",price:119,rating:8.9,quantity:1,img_src:"/assets/images/aloomatar.jpeg"},{dish_id:7003,dish_name:"Baigan Bharta",description:"Freshly roasted eggplant with tomatoes, onions and green peas",price:139,rating:8.7,quantity:1,img_src:"/assets/images/baiganbharta.jpeg"},{dish_id:7004,dish_name:"Matar Paneer",description:"Distinctively spiced peas and homemade cheese",price:159,rating:8.9,quantity:1,img_src:"/assets/images/matarpaneer.jpeg"},{dish_id:7005,dish_name:"Malai Kofta",description:"Minced cheese balls saut\xe9ed in cream sauce with raisins and cashews",price:159,rating:9.1,quantity:1,img_src:"/assets/images/malaikofta.jpeg"},{dish_id:7006,dish_name:"Paneer Butter Masala",description:"Cubed cheese cooked with onion sauce, tomatoes and bell peppers",price:159,rating:9,quantity:1,img_src:"/assets/images/paneerbuttermasala.jpeg"}],[{dish_id:8001,dish_name:"Naan",description:"Traditional Indian white flour hand tossed bread",price:25,rating:8.5,quantity:1,img_src:"/assets/images/naan.jpeg"},{dish_id:8002,dish_name:"Roti",description:"Whole wheat bread",price:10,rating:8.9,quantity:1,img_src:"/assets/images/roti.jpeg"},{dish_id:8003,dish_name:"Paratha",description:"Whole wheat bread with butter",price:15,rating:8.7,quantity:1,img_src:"/assets/images/paratha.jpeg"},{dish_id:8004,dish_name:"Cheese Naan",description:"White flour hand tossed bread stuffed with grated Indian cheese",price:30,rating:8.9,quantity:1,img_src:"/assets/images/cheesenaan.jpeg"},{dish_id:8005,dish_name:"Aloo Naan",description:"White flour hand tossed bread baked with seasoned potatoes and peas",price:27,rating:9.1,quantity:1,img_src:"/assets/images/aloonaan.jpeg"},{dish_id:8006,dish_name:"Kashmiri Naan",description:"White flour hand tossed bread stuffed with sweet cherry, raisins and cashews",price:30,rating:9,quantity:1,img_src:"/assets/images/kashmirinaan.jpeg"}],[{dish_id:9001,dish_name:"Gulab Jamun",description:"Deep fried milk confection in a sweet syrup (3 pieces)",price:99,rating:8.5,quantity:1,img_src:"/assets/images/gulabjamun.jpeg"},{dish_id:9002,dish_name:"Kheer",description:"Rice cooked in flavored milk with nuts and cardamon, served cold",price:89,rating:8.9,quantity:1,img_src:"/assets/images/kheer.jpeg"},{dish_id:9003,dish_name:"Kulfi",description:"Homemade sweetened milk ice cream, choice of mango or pistachio",price:39,rating:8.7,quantity:1,img_src:"/assets/images/kulfi.jpeg"},{dish_id:9004,dish_name:"Mango Pudding",description:"Vanilla pudding with fresh mango pulp",price:30,rating:8.5,quantity:1,img_src:"/assets/images/mangopudding.jpeg"},{dish_id:9005,dish_name:"Gajar Halwa",description:"Grated carrots cooked in milk and butter",price:49,rating:9.1,quantity:1,img_src:"/assets/images/gajarhalwa.jpeg"}],[{dish_id:1101,dish_name:"Mango Lassi",description:"Cold sweetened mango and yogurt drink",price:39,rating:8.9,quantity:1,img_src:"/assets/images/mangolassi.jpeg"},{dish_id:1102,dish_name:"Sweet Lassi",description:"Cold sweetened yogurt drink",price:29,rating:8.9,quantity:1,img_src:"/assets/images/sweetlassi.jpeg"},{dish_id:1103,dish_name:"Soft Drinks",description:"Coke, Diet Coke, Sprite, Lemonade, Root Beer, Fanta",price:39,rating:8.4,quantity:1,img_src:"/assets/images/softdrinks.jpeg"},{dish_id:1104,dish_name:"Butter Milk",description:"Yougurt mixed with water and some spices",price:15,rating:8.5,quantity:1,img_src:"/assets/images/buttermilk.jpeg"}]],Y=function(){var e=Object(a.useContext)(O),s=Object(j.a)(e,2);s[0],s[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h2",{className:"m-2",children:"Apetizers"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[0].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Indian Style Soup"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[1].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Tandoori Delicacies"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[2].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Chicken Specialities"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[3].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Seafood Specialities"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[4].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Biryani"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[5].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Vegetable Specialities"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[6].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Tandoori Bread"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[7].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Deserts"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[8].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{className:"m-2",children:"Beverages"}),Object(p.jsx)("div",{className:"display-div overflow-auto",children:U[9].map((function(e,s){return Object(p.jsx)(T,{id:e.dish_id,dishName:e.dish_name,description:e.description,rating:e.rating,price:e.price,quantity:e.quantity,comments:e.comments,img_src:e.img_src},s)}))})]})},Q=t(184),X=function(){var e,s,t=Object(a.useState)(!1),c=Object(j.a)(t,2),i=c[0],n=c[1],o=Object(a.useState)(!1),m=Object(j.a)(o,2),h=m[0],u=m[1],x=Object(a.useContext)(y),g=Object(j.a)(x,2),f=g[0],N=(g[1],Object(a.useContext)(O)),_=Object(j.a)(N,2),C=(_[0],_[1]),q=Object(r.f)(),P=Object(a.useState)({address:"",pincode:null}),F=Object(j.a)(P,2),T=F[0],B=F[1],M=Object(a.useState)({currPassword:"",newPassword:"",cNewPassword:""}),R=Object(j.a)(M,2),z=R[0],V=R[1],A=function(){var e=Object(l.a)(d.a.mark((function e(s){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),console.log(T.address,T.pincode),t=f._id,e.next=5,fetch("/changeaddress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newAddress:T,id:t})});case 5:return a=e.sent,e.next=8,a.json();case 8:e.sent,200===a.status&&(window.alert("updated successfully! changes will be applied when you login again!"),B({address:"",pincode:null}));case 10:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(d.a.mark((function e(s){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t=f._id,e.next=4,fetch("/changepassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:z,id:t})});case 4:200===e.sent.status&&(window.alert("updated! you will be logged out. please login again!"),V({currPassword:"",newPassword:"",cNewPassword:""}),C(!1),localStorage.clear(),q.push("/"));case 6:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),H=function(t){e=t.target.name,s=t.target.value,"address"===e||"pincode"===e?B(Object(S.a)(Object(S.a)({},T),{},Object(W.a)({},e,s))):V(Object(S.a)(Object(S.a)({},z),{},Object(W.a)({},e,s)))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(k.a,{className:"user shadow my-5 p-5 col-lg-10 bg-light",children:Object(p.jsxs)(D.a,{children:[Object(p.jsxs)(J.a,{xs:12,lg:6,className:"user-info-col",children:[Object(p.jsxs)("h4",{children:["Name: ",f.name]}),Object(p.jsx)("br",{}),Object(p.jsxs)("h4",{children:["Email: ",f.email]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsxs)("h4",{children:["Address: ",f.address," pincode:",f.pincode]}),Object(p.jsx)(b.a,{variant:"primary",id:"user-btn",className:"bg-light text-primary border-0",onClick:function(){return n(!0)},children:Object(p.jsx)(v.a,{icon:w.a})}),Object(p.jsxs)(Q.a,{show:i,onHide:function(){return n(!1)},children:[Object(p.jsx)(Q.a.Header,{closeButton:!0,children:Object(p.jsx)(Q.a.Title,{children:"Change Address"})}),Object(p.jsx)(Q.a.Body,{children:Object(p.jsxs)("form",{method:"POST",className:"p-2 mt-2",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"contactno",className:"form-label",children:"Address"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"text",className:"form-control",name:"address",value:T.address,onChange:H})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"pincode",className:"form-label",children:"Pincode"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"number",className:"form-control",name:"pincode",value:T.pincode,onChange:H})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success btn-lg form-btn",onClick:A,children:"Submit"})]})})]})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("h4",{children:["Contact: ",f.contact]}),Object(p.jsx)("br",{}),Object(p.jsx)(b.a,{variant:"primary",onClick:function(){return u(!0)},children:"Change Password"}),Object(p.jsxs)(Q.a,{show:h,onHide:function(){return u(!1)},children:[Object(p.jsx)(Q.a.Header,{closeButton:!0,children:Object(p.jsx)(Q.a.Title,{children:"Change Password"})}),Object(p.jsx)(Q.a.Body,{children:Object(p.jsxs)("form",{method:"POST",className:"p-2 mt-2",children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"contactno",className:"form-label",children:"Current Password"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"currPassword",value:z.currPassword,onChange:H})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"contactno",className:"form-label",children:"New Password"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"newPassword",value:z.newPassword,onChange:H})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"pincode",className:"form-label",children:"Confirm New Password"}),Object(p.jsx)("span",{className:"compulsory",children:"*"}),Object(p.jsx)("input",{type:"password",className:"form-control",name:"cNewPassword",value:z.cNewPassword,onChange:H})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-success btn-lg form-btn",onClick:L,children:"Submit"})]})})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]}),Object(p.jsx)(J.a,{xs:12,lg:6,className:"user-order-col",children:Object(p.jsxs)(k.a,{className:"user-order shadow bg-light",children:[Object(p.jsx)("h3",{className:"p-3",children:"All Orders"}),Object(p.jsx)("hr",{}),Object(p.jsx)(k.a,{className:"user-order-display col-sm-12",children:f.orders.map((function(e){return Object(p.jsxs)("div",{className:"py-2",children:[Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"delivery address"}),": ",e.address]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Pincode"}),": ",e.pincode]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Order total"}),": Rs.",e.total]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"date and time"}),": ",e.date]}),Object(p.jsxs)("h6",{children:[Object(p.jsx)("b",{children:"Order"}),":"]}),e.cart.map((function(e){return Object(p.jsxs)("h6",{children:[e.dishName," : ",e.quantity]})})),Object(p.jsx)("hr",{})]})}))})]})})]})})})},Z=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(k.a,{className:"err-container",children:[Object(p.jsx)("p",{className:"text-muted text-center",children:Object(p.jsx)(v.a,{icon:w.b,size:"10x"})}),Object(p.jsx)("h1",{className:"text-muted text-center err-text",children:"Page not Found"}),Object(p.jsx)(b.a,{variant:"secondary",className:"go-home text-center btn-lg",children:Object(p.jsx)(u.b,{to:"/",style:{color:"white",textDecoration:"none"},children:"Home"})})]})})};var $=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_,{}),Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{exact:!0,path:"/",children:Object(p.jsx)(C,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/login",children:Object(p.jsx)(L,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/signup",children:Object(p.jsx)(E,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/itemdetails",children:Object(p.jsx)(M,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/cart",children:Object(p.jsx)(R,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/checkout",children:Object(p.jsx)(A,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/booktable",children:Object(p.jsx)(K,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/menu",children:Object(p.jsx)(Y,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/admin",children:Object(p.jsx)(G,{})}),Object(p.jsx)(r.a,{exact:!0,path:"/userinfo",children:Object(p.jsx)(X,{})}),Object(p.jsx)(r.a,{children:Object(p.jsx)(Z,{})})]})]})},ee=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,188)).then((function(s){var t=s.getCLS,a=s.getFID,c=s.getFCP,i=s.getLCP,n=s.getTTFB;t(e),a(e),c(e),i(e),n(e)}))};n.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(P,{children:Object(p.jsx)(f,{children:Object(p.jsx)(V,{children:Object(p.jsx)(N,{children:Object(p.jsx)(x,{children:Object(p.jsx)(u.a,{children:Object(p.jsx)($,{})})})})})})})}),document.getElementById("root")),ee()},83:function(e,s,t){},99:function(e,s,t){}},[[178,1,2]]]);
//# sourceMappingURL=main.7f586761.chunk.js.map